<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Dojo Toolkit Test Page</title>    

<script src="js/utf8.js" type="text/javascript"></script>
<script src="js/time.js" type="text/javascript"></script>

<script type="text/javascript">
function append(str) {
    var node = document.createElement("div");
    node.innerHTML = str;
    document.body.appendChild(node);
}

function test() {
    var uni = String.fromCharCode(132,0xe430, 0xff, 23, 43, 0xd723, 23, 432, 5324, 4356, 34, 345,23, 43, 54, 65, 67, 23 , 68, 56, 67, 46, 56, 45,78,98,78,89,78,98,78,98,78,98,78,98,78,98,78,98,78,98,78,98,78,98,78,98,78,98,78,98,78,98);


    time.start("new");
    for (var i = 0; i< 1000; i++) {
	var utf8 = UTF8.encode(uni);
	var nuni = UTF8.decode(utf8);
    }
    time.stop("new");

    time.start("old");
    for (var i = 0; i< 1000; i++) {
	var utf8 = UTF8.legacy_encode(uni);
	var nuni = UTF8.legacy_decode(utf8);
    }
    time.stop("old");
    

    time.report();
    
}
</script>
<body>

<button onClick="test()">init</button>

</body>
